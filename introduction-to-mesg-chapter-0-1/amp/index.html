<!DOCTYPE html>
<html ⚡>
<head>
    <meta charset="utf-8">

    <title>Introduction to MESG</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta name="description" content="Since the early days of computers, we’ve never had a fixed definition regarding how services should communicate with each other through a network." />
    <link rel="shortcut icon" href="../../favicon.png" type="image/png" />
    <link rel="canonical" href="../index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="MESG" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Introduction to MESG" />
    <meta property="og:description" content="With MESG, you can build applications that easily connect any technologies together, including any blockchains or Web APIs. Imagine the possibilities of any technology connecting to anything else with data through a decentralized network." />
    <meta property="og:url" content="https://blog.mesg.com/introduction-to-mesg-chapter-0-1/" />
    <meta property="og:image" content="https://blog.mesg.com/content/images/2019/11/1_KKKkivR4M-BPAsiz_3PJRA.jpeg" />
    <meta property="article:published_time" content="2018-12-16T03:26:00.000Z" />
    <meta property="article:modified_time" content="2019-12-13T18:45:30.000Z" />
    <meta property="article:tag" content="Development" />
    <meta property="article:tag" content="Tutorials" />
    <meta property="article:tag" content="Blockchain" />
    <meta property="article:tag" content="MESG" />
    <meta property="article:tag" content="Tech" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Introduction to MESG" />
    <meta name="twitter:description" content="With MESG, you can build applications that easily connect any technologies together, including any blockchains or Web APIs. Imagine the possibilities of any technology connecting to anything else with data through a decentralized network." />
    <meta name="twitter:url" content="https://blog.mesg.com/introduction-to-mesg-chapter-0-1/" />
    <meta name="twitter:image" content="https://blog.mesg.com/content/images/2019/11/1_KKKkivR4M-BPAsiz_3PJRA.jpeg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="MESG" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Development, Tutorials, Blockchain, MESG, Tech" />
    <meta name="twitter:site" content="@mesgfoundation" />
    <meta property="og:image:width" content="1228" />
    <meta property="og:image:height" content="688" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "MESG",
        "logo": "https://blog.mesg.com/content/images/2019/11/MESG-logo-purple.png"
    },
    "author": {
        "@type": "Person",
        "name": "MESG",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog.mesg.com/content/images/2019/11/MESG-brandmark-purple-800X800-2.png",
            "width": 800,
            "height": 800
        },
        "url": "https://blog.mesg.com/author/mesg/",
        "sameAs": [
            "https://mesg.com/"
        ]
    },
    "headline": "Introduction to MESG",
    "url": "https://blog.mesg.com/introduction-to-mesg-chapter-0-1/",
    "datePublished": "2018-12-16T03:26:00.000Z",
    "dateModified": "2019-12-13T18:45:30.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.mesg.com/content/images/2019/11/1_KKKkivR4M-BPAsiz_3PJRA.jpeg",
        "width": 1228,
        "height": 688
    },
    "keywords": "Development, Tutorials, Blockchain, MESG, Tech",
    "description": "With MESG, you can build applications that easily connect any technologies together, including any blockchains or Web APIs. Imagine the possibilities of any technology connecting to anything else with data through a decentralized network.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.mesg.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.1" />
    <link rel="alternate" type="application/rss+xml" title="MESG" href="../../rss/index.html" />

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,600,400" />
    <style amp-custom>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{margin:0.67em 0;font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{position:relative;vertical-align:baseline;font-size:75%;line-height:0}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}amp-img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{margin:0 2px;padding:0.35em 0.625em 0.75em;border:1px solid #c0c0c0}legend{padding:0;border:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{max-height:100%;height:100%;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0)}body{max-height:100%;height:100%;color:#3a4145;background:#f4f8fb;letter-spacing:0.01rem;font-family:"Merriweather", serif;font-size:1.8rem;line-height:1.75em;text-rendering:geometricPrecision;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1}::-moz-selection{background:#d6edff}::selection{background:#d6edff}h1,h2,h3,h4,h5,h6{margin:0 0 0.3em 0;color:#2e2e2e;font-family:"Open Sans", sans-serif;line-height:1.15em;text-rendering:geometricPrecision;-webkit-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1;-moz-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1;-o-font-feature-settings:"dlig" 1, "liga" 1, "lnum" 1, "kern" 1}h1{text-indent:-2px;letter-spacing:-1px;font-size:2.6rem}h2{letter-spacing:0;font-size:2.4rem}h3{letter-spacing:-0.6px;font-size:2.1rem}h4{font-size:1.9rem}h5{font-size:1.8rem}h6{font-size:1.8rem}a{color:#4a4a4a}a:hover{color:#111}p,ul,ol,dl{margin:0 0 2.5rem 0;font-size:1.5rem;text-rendering:geometricPrecision;-webkit-font-feature-settings:"liga" 1, "onum" 1, "kern" 1;-moz-font-feature-settings:"liga" 1, "onum" 1, "kern" 1;-o-font-feature-settings:"liga" 1, "onum" 1, "kern" 1}ol,ul{padding-left:2em}ol ol,ul ul,ul ol,ol ul{margin:0 0 0.4em 0;padding-left:2em}dl dt{float:left;clear:left;overflow:hidden;margin-bottom:1em;width:180px;text-align:right;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-bottom:1em;margin-left:200px}li{margin:0.4em 0}li li{margin:0}hr{display:block;margin:1.75em 0;padding:0;height:1px;border:0;border-top:#efefef 1px solid}blockquote{box-sizing:border-box;margin:1.75em 0 1.75em 0;padding:0 0 0 1.75em;border-left:#4a4a4a 0.4em solid;-moz-box-sizing:border-box}blockquote p{margin:0.8em 0;font-style:italic}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;color:#ccc;font-size:0.9em}blockquote small:before{content:"\2014 \00A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:normal}mark{background-color:#fdffb6}code,tt{padding:1px 3px;border:#e3edf3 1px solid;background:#f7fafb;border-radius:2px;white-space:pre-wrap;font-family:Inconsolata, monospace, sans-serif;font-size:0.85em;font-feature-settings:"liga" 0;-webkit-font-feature-settings:"liga" 0;-moz-font-feature-settings:"liga" 0}pre{overflow:auto;box-sizing:border-box;margin:0 0 1.75em 0;padding:10px;width:100%;border:#e3edf3 1px solid;background:#f7fafb;border-radius:3px;white-space:pre;font-family:Inconsolata, monospace, sans-serif;font-size:0.9em;-moz-box-sizing:border-box}pre code,pre tt{padding:0;border:none;background:transparent;white-space:pre-wrap;font-size:inherit}kbd{display:inline-block;margin-bottom:0.4em;padding:1px 8px;border:#ccc 1px solid;background:#f4f4f4;border-radius:4px;box-shadow:0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 0 #fff inset;color:#666;text-shadow:#fff 0 1px 0;font-size:0.9em;font-weight:700}table{box-sizing:border-box;margin:1.75em 0;max-width:100%;width:100%;background-color:transparent;-moz-box-sizing:border-box}table th,table td{padding:8px;border-top:#efefef 1px solid;vertical-align:top;text-align:left;line-height:20px}table th{color:#000}table caption + thead tr:first-child th,table caption + thead tr:first-child td,table colgroup + thead tr:first-child th,table colgroup + thead tr:first-child td,table thead:first-child tr:first-child th,table thead:first-child tr:first-child td{border-top:0}table tbody + tbody{border-top:#efefef 2px solid}table table table{background-color:#fff}table tbody > tr:nth-child(odd) > td,table tbody > tr:nth-child(odd) > th{background-color:#f6f6f6}table.plain tbody > tr:nth-child(odd) > td,table.plain tbody > tr:nth-child(odd) > th{background:transparent}iframe,amp-iframe,.fluid-width-video-wrapper{display:block;margin:1.75em 0}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper amp-iframe{margin:0}textarea,select,input{margin:0 0 5px 0;padding:6px 9px;width:260px;outline:0;border:#e7eef2 1px solid;background:#fff;border-radius:4px;box-shadow:none;font-family:"Open Sans", sans-serif;font-size:1.6rem;line-height:1.4em;font-weight:100;-webkit-appearance:none}textarea{min-width:250px;min-height:80px;max-width:340px;width:100%;height:auto}input[type="text"]:focus,input[type="email"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="number"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="week"]:focus,input[type="time"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,textarea:focus{outline:none;outline-width:0;border:#bbc7cc 1px solid;background:#fff}select{width:270px;height:30px;line-height:30px}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.main-header{position:relative;display:table;overflow:hidden;box-sizing:border-box;width:100%;height:50px;background:#5ba4e5 no-repeat center center;background-size:cover;text-align:left;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.content{background:#fff;padding-top:15px}.blog-title,.content{margin:auto;max-width:600px}.blog-title a{display:block;padding-right:16px;padding-left:16px;height:50px;color:#fff;text-decoration:none;font-family:"Open Sans", sans-serif;font-size:16px;line-height:50px;font-weight:600}.post{position:relative;margin-top:0;margin-right:16px;margin-left:16px;padding-bottom:0;max-width:100%;border-bottom:#ebf2f6 1px solid;word-wrap:break-word;font-size:0.95em;line-height:1.65em}.post-header{margin-bottom:1rem}.post-title{margin-bottom:0}.post-title a{text-decoration:none}.post-meta{display:block;margin:3px 0 0 0;color:#9eabb3;font-family:"Open Sans", sans-serif;font-size:1.3rem;line-height:2.2rem}.post-meta a{color:#9eabb3;text-decoration:none}.post-meta a:hover{text-decoration:underline}.post-meta .author{margin:0;font-size:1.3rem;line-height:1.3em}.post-date{display:inline-block;text-transform:uppercase;white-space:nowrap;font-size:1.2rem;line-height:1.2em}.post-image{margin:0;padding-top:3rem;padding-bottom:30px;border-top:1px #E8E8E8 solid}.post-content amp-img,.post-content amp-anim{position:relative;left:50%;display:block;padding:0;min-width:0;max-width:112%;width:calc(100% + 32px);height:auto;transform:translateX(-50%);-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%)}.footnotes{font-size:1.3rem;line-height:1.6em;font-style:italic}.footnotes li{margin:0.6rem 0}.footnotes p{margin:0}.footnotes p a:last-child{text-decoration:none}.site-footer{position:relative;margin:0 auto 20px auto;padding:1rem 15px;max-width:600px;color:rgba(0,0,0,0.5);font-family:"Open Sans", sans-serif;font-size:1.1rem;line-height:1.75em}.site-footer a{color:rgba(0,0,0,0.5);text-decoration:none;font-weight:bold}.site-footer a:hover{border-bottom:#bbc7cc 1px solid}.poweredby{display:block;float:right;width:45%;text-align:right}.copyright{display:block;float:left;width:45%}</style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="main-header">
        <nav class="blog-title">
            <a href="../../index.html">MESG</a>
        </nav>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">Introduction to MESG — Chapter 0/1</h1>
                <section class="post-meta">
                    <p class="author">by <a href="../../author/mesg/index.html">MESG</a></p>
                    <time class="post-date" datetime="2018-12-16">2018-12-16</time>
                </section>
            </header>
            <figure class="post-image">
                <amp-img src="https://blog.mesg.com/content/images/2019/11/1_KKKkivR4M-BPAsiz_3PJRA.jpeg" width="600" height="400" layout="responsive"></amp-img>
            </figure>
            <section class="post-content">

                <p>With MESG, you can build applications that easily connect any technologies together, including any blockchains or Web APIs. Imagine the possibilities of any technology connecting to anything else with data through a decentralized network.<br /><em>There has never been a solution quite like this before.</em></p><h2 id="understanding-mesg">Understanding MESG</h2><p>Since the early days of computers, we’ve never had a fixed definition regarding how services should communicate with each other through a network.</p><p>This lack of organization from the past now limits today’s microservice methodology. Microservices brought great value to software ecosystems by showing that services should be kept small and be dedicated to specific functionalities. But it is still lacking on the reusability side, because there still is no standard for how services should communicate with each other through a network.</p><p>So far, we haven’t had a chance to create reusable services that don’t necessarily require modifications on their network layers. A service needs to be refactored to be compatible with another communication protocol adopted in the product where it’s being used.</p><p>Assume you already have some functional services that you’ve created before for previous projects. Now, let’s say that some of these services expose their functionality to network via <em><em>http endpoints,</em></em> and others use <em><em>gRPC</em></em>, <em><em>JSON-RPC</em></em>, <em><em>GraphQL</em></em> or even a custom communication protocol over <em><em>TCP</em></em>.</p><p>To be able to use these services together in a new product, you must create an environment to support their <strong><strong>varying</strong></strong> network communication protocols, or refactor them to force a single standard and build a messaging protocol on top of that.</p><p>Meanwhile, you have to figure out how to solve service-discovery, load-balancing and security problems to run and scale your services seamlessly.</p><p><em><em>Instead of just focusing on the features that actually matter for your product, dealing with things that aren’t related become a big waste of development hours!</em></em></p><figure class="kg-card kg-image-card kg-card-hascaption"><amp-img src="https://blog.mesg.com/content/images/2019/11/0_Px3gsWKmORgS8oZg.jpeg" class="kg-image" width="334" height="301" layout="responsive"></amp-img><figcaption>Quoted from Morpheus</figcaption></figure><p>So, why not to define a standardized communication protocol where it opens up the opportunity to create reusable services?</p><p>MESG solves this problem by creating an emerging standard for services and introduces <strong><strong>workflows</strong></strong> for defining how data should flow between the services.</p><p>Alongside creating a well-defined network communication protocol for services, MESG even lets your services to run in a decentralized way and manages the network, service discovery, load balancing and security natively with the power of container technology.</p><p>MESG’s <a href="https://github.com/mesg-foundation/core" rel="noopener nofollow"><em><em>Core</em></em></a><em><em> </em></em>is responsible for running services &amp; workflows in a decentralized way. It runs as a daemon and it can be deployed to any peer in the network for enabling decentralization. Even Core itself consists of a bunch system <strong><strong>services</strong></strong> which enables the possibility of its own decentralization in the network.</p><p><em><em>Reusable services aren’t a myth anymore thanks to MESG! You can check out the existing ones on the service </em></em><a href="https://github.com/mesg-foundation/awesome" rel="noopener nofollow"><em><em>marketplace</em></em></a><em><em>, even create yours for others to use and earn some MESG Tokens along the way! Shh… We’ll talk about blockchains later…</em></em></p><figure class="kg-card kg-image-card kg-card-hascaption"><amp-img src="https://blog.mesg.com/content/images/2019/11/0_jyAjCXHEoqPehx_H.jpeg" class="kg-image" width="372" height="338" layout="responsive"></amp-img><figcaption>An amazed Doge</figcaption></figure><p><em><em>If we had had this standardization and service market from the beginning of the internet, we wouldn’t have needed to create services from scratch. Reusing services that easy surely could’ve moved humanity decades forward by preventing all those development hours to be wasted!</em></em></p><p><em><em>Check out</em></em> <a href="http://mesg.com/" rel="noopener nofollow"><em><em>mesg.com</em></em></a><em><em> and the online </em></em><a href="https://docs.mesg.com/" rel="noopener nofollow"><em><em>documentation</em></em></a><em><em> to get better acquainted with MESG!</em></em></p><h2 id="services">Services</h2><p>Services are small, focused programs that implement target functionalities. To expose these functionalities to the network for other’s use, their capabilities needed to be defined in a standard format.</p><p>MESG introduces <a href="https://docs.mesg.com/guide/service/service-file.html" rel="noopener nofollow"><em><em>mesg.yml</em></em></a> to exactly meet this need. In this configuration file, you can define the schema of tasks that your service is capable of executing and the type of events that your service may emit. You can also specify dependencies, data volumes, scalability properties, network configurations and other primitives that describe how your service should run.</p><p>MESG features event-orientation at its roots. Services’ tasks and events are specially designed with asynchrony in mind first. This fits well with the asynchronous world of services. It lets you to easily create reactive applications that connect any services by using workflows.</p><p>Think of tasks as a superset set of RPCs, but MESG is event-oriented, which means a task’s outputs emit asynchronously once its execution is finished.</p><p>Events are a new concept that MESG introduces to the service world. They’re very handy to broadcast bits of data that can be useful for other services in the network depending on your application logic. Events can be emitted from inside services as part of their business logic and handled by workflows. Task executions, on the other hand, are performed by workflows on services and their outputs again, are handled by workflows.<br />As you can see, services can be only connected through workflows and they’re not aware of each other.</p><p><em><em>Let’s examine the webhook and Discord services to get some ideas:</em></em></p><p>In the <em><em>webhook</em></em> service’s <em><em>mesg.yml</em></em> file, we have the <a href="https://github.com/mesg-foundation/service-webhook/blob/master/mesg.yml#L3-L12" rel="noopener nofollow"><em><em>request</em></em></a><em><em> event </em></em>definition with <em><em>data</em></em> and <em><em>headers </em></em>as<em><em> </em></em>payload.<br />The <em><em>request</em></em> event is emitted on every post call to the <em><em>/webhook</em></em> endpoint while the headers and body of each http request is used as its data. You can check the corresponding http <a href="https://github.com/mesg-foundation/service-webhook/blob/a807ebb/index.js#L21-L27" rel="noopener nofollow">handler</a> to see it in code.</p><p>In the <em><em>discord</em></em> service’s <em><em>mesg.yml</em></em> file, we have the <a href="https://github.com/mesg-foundation/service-discord-invitation/blob/b043c95/mesg.yml#L3-L24" rel="noopener nofollow"><em><em>send</em></em></a><em><em> task </em></em>that takes an <em><em>email</em></em> and a <em><em>sendgridAPIKey</em></em> as its input data. It has two different outputs as <em><em>success</em></em> and <em><em>error</em></em>. If sending invitation is successful it’ll emit the <em><em>success</em></em> output with <em><em>code</em></em> and <em><em>message</em></em> output data otherwise <em><em>error</em></em> output with an error <em><em>message</em></em>. You can see how easy its <a href="https://github.com/mesg-foundation/service-discord-invitation/blob/02f9894/index.js#L4-L9" rel="noopener nofollow">implementation</a> is in code.</p><p>Check the <em><em>discord-invites</em></em> workflow shared in the <em><em>Workflow</em></em> section below to see these services in action.</p><h2 id="processes">Processes</h2><p>One of the visions of MESG is to allow people, even non-programmers to create applications without writing a single line of code. This is possible with processes by connecting pre-created services from the marketplace. It will also be possible to create processes easily via a user interface where you connect data dots from various services to describe the flow in between them.</p><p>Processes can be considered as configurations that describe how data should flow between services.</p><p>Basically, processes are used to define conditions for executing tasks. These conditions could depend on different task outputs and events from various services. Services are metaphorically connected with each other through workflows.</p><p>You can define patterns to match with task outputs and events from various services that your application needs, manipulate their payload and meta-data and execute a chain of tasks from multiple services in the network by using this data as task inputs.</p><p>Processes support advanced data manipulation, filtering and parallel/serial task executions.</p><figure class="kg-card kg-image-card kg-card-hascaption"><amp-img src="https://blog.mesg.com/content/images/2019/11/0_NkPMkZMd7BkwhYC6.jpeg" class="kg-image" width="400" height="267" layout="responsive"></amp-img><figcaption>Processes are like circuit lines that transfer data between circuit components, but it's for services</figcaption></figure><p><em><em>Let’s see how a basic </em>process<em> looks like over </em></em><strong><strong><em><em>discord-invites</em></em></strong></strong><em><em> </em>process<em>:</em></em></p><pre><code>name: discord-invites

description: |
  Send discord invites to your fellows.

  curl -d "email=your@email.com" -XPOST http://localhost:3000/webhook

services:
  webhook: 4f7891f77a6333787075e95b6d3d73ad50b5d1e9
  discord: 1daf16ca98322024824f307a9e11c88e0aba55e2

configs:
  sendgridAPIKey: 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

when:
  webhook:
    event:
      request:
        execute:
          discordExecution:
            map:
              email: $event.data.data.email
              sendgridAPIKey: $configs.sendgridAPIKey
            discord: send</code></pre><p>This process shares Discord invites to people by sending emails. We use the <em><em>webhook</em></em> and <em><em>discord</em></em> services in this workflow. You can read about them in Services section above to know exactly how they work.</p><p>Let’s see the <em><em>when</em></em> section of a sample workflow. Every declaration about listening results, events and executing tasks should be made under <em><em>when</em></em>. On behalf of that, there are some other sections in the workflow definition format to declare a name for the workflow <em><em>(name)</em></em>, its description <em><em>(description)</em></em>, map of service names &amp; their IDs <em><em>(services)</em></em> and some constants <em><em>(configuration)</em></em>.</p><p>For this <em><em>discord-invites</em></em> workflow, there is a definition to listen for <a href="https://github.com/mesg-foundation/service-webhook/blob/641eb07/mesg.yml#L3-L12" rel="noopener nofollow"><em><em>request</em></em></a><em><em> events </em></em>on the <em><em>webhook</em></em> service. So, when this event is received, we access its data with special <em><em>$event.data</em></em> variable and access to pre-defined configs in workflow with <em><em>$configs</em></em> variable to specify task inputs in the <em><em>map</em></em> section. Each field in map corresponds to a field of task’s inputs. In this case we’re mapping data to set email address and SendGrid API key as input data of the <a href="https://github.com/mesg-foundation/service-discord-invitation/blob/b043c95/mesg.yml#L3-L24" rel="noopener nofollow"><em><em>send</em></em></a><em><em> task </em></em>on <em><em>discord </em></em>service.</p><p>In conclusion, when a <em><em>request</em></em> event is received, the <em><em>send</em></em> task will be executed with the dynamically-received email address from the <em><em>request</em></em> event’s data and statically-defined SendGrid API key config. This flow will be circulated on every <em><em>request</em></em> event until the workflow has been deleted from Core.</p><p>You can also execute multiple tasks in series or parallel by adding more named executions under the <a href="https://gist.github.com/ilgooz/a0e1e5802bf004f342fe9f25d26eb284#file-discord-invites-yml-L19" rel="noopener nofollow"><em><em>execute</em></em></a><em><em> section</em></em>. It’s even possible to make executions which depend on each other by using the special <em><em>dependsOn (coming very soon) section </em></em>on each execution. Accessing the props of root event/result and inheriting task outputs from parent executions are also supported.</p><p><em><em>Check out the </em></em><a href="https://docs.mesg.com/guide/start-here/quick-start-guide.html" rel="noopener nofollow"><em><em>Quick Start</em></em></a><em><em> guide to run </em>the MESG SDK<em> on your machine, deploy &amp; start webhook and Discord services and run the discord-invites </em>process<em> in</em> just<em> seconds!</em></em></p><p><em><em>Please be aware that some features </em>mentioned<em> blog post may not be fully implemented yet. Stay tuned and follow the latest development via the </em></em><a href="https://forum.mesg.com/" rel="noopener nofollow"><em><em>forum</em></em></a><em><em>.</em></em></p>

            </section>

        </article>
    </main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="../../index.html">MESG</a> &copy; 2020</section>
        <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
    </footer>
</body>
</html>
